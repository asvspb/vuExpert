# ‚ö°Ô∏è Vite –≤–æ VueExpert: Dev-Proxy –∏ Prod-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–£—Ä–æ–∫ –≤ —Ñ–æ—Ä–º–∞—Ç–µ MASTER_PROMPT)

### –ö–æ–Ω—Ç–µ–∫—Å—Ç (–°—é–∂–µ—Ç)
–£ —Ç–µ–±—è —Ñ—Ä–æ–Ω—Ç –Ω–∞ 5173 –∏ –±—ç–∫–µ–Ω–¥ –Ω–∞ 8000. –ë—Ä–∞—É–∑–µ—Ä —Ä–µ–∂–µ—Ç –∑–∞–ø—Ä–æ—Å—ã CORS-–æ–º –≤ –¥–µ–≤–µ, –∞ –ø—Ä–æ–¥ —Å–±–æ—Ä–∫–∞ —Ç—è–∂–µ–ª–µ–µ—Ç –∏ –≥—Ä—É–∑–∏—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–æ. –ù—É–∂–Ω–æ: –ø—Ä–æ–∫–∏–Ω—É—Ç—å proxy –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–∞–Ω–¥–ª.

### 1. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –ó–∞–¥–∞–Ω–∏–µ (–¢–ó)
- –§–∞–π–ª: `vite.config.js`
- –ó–∞–¥–∞—á–∞: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å dev proxy `/api` ‚Üí `http://localhost:8000` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π WebSocket –Ω–∞ `/ws`; –≤–∫–ª—é—á–∏—Ç—å —Ä–∞–∑–±–∏–≤–∫—É —á–∞–Ω–∫–æ–≤ –¥–ª—è –≤–µ–Ω–¥–æ—Ä–æ–≤.
- –£—Å–ª–æ–≤–∏—è: —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –ø–ª–∞–≥–∏–Ω—ã; –Ω–µ –ª–æ–º–∞—Ç—å Playwright Preview; —É—á–µ—Å—Ç—å env.

### 2. –†–µ—Ñ–µ—Ä–µ–Ω—Å (Visual/Logic Target)
- Dev –∑–∞–ø—Ä–æ—Å: `fetch('/api/health')` —É—Ö–æ–¥–∏—Ç –Ω–∞ 8000
- WebSocket: `new WebSocket('ws://localhost:5173/ws')` –ø—Ä–æ–∫–∏–¥—ã–≤–∞–µ—Ç—Å—è –Ω–∞ 8000
- Prod: `vendor.js` –æ—Ç–¥–µ–ª—å–Ω—ã–º —Ñ–∞–π–ª–æ–º

### 3. –¢–µ–æ—Ä–∏—è (Just-in-Time)
- `server.proxy` —Ä–µ—à–∞–µ—Ç CORS –≤ Dev, –≤ –ø—Ä–æ–¥–µ —Ä–µ—à–∞–µ—Ç Nginx
- Rollup `manualChunks` –¥–ª—è –≤–µ–Ω–¥–æ—Ä–æ–≤
- `import.meta.env` –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 4. –ü—Ä–∞–∫—Ç–∏–∫–∞ (Interactive Steps)
–í—Å—Ç–∞–≤—å –∑–∞–≥–æ—Ç–æ–≤–∫—É –≤ `vite.config.js` –∏ –¥–æ–ø–æ–ª–Ω–∏ –ø—Ä–æ–ø—É—Å–∫–∏:
```js
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
export default defineConfig({
  plugins: [vue()],
  server: {
    proxy: {
      '/api': { target: 'http://localhost:8000', changeOrigin: true, ___FILL___: true },
      '/ws':   { target: 'ws://localhost:8000', changeOrigin: true, ws: true }
    }
  },
  build: {
    rollupOptions: {
      output: {
        manualChunks: { vendor: ['vue'] /* ___FILL_MORE_LIBS___ */ }
      }
    }
  }
})
```
–ü–æ–¥—Å–∫–∞–∑–∫–∞: –¥–ª—è `/api` –≤–∫–ª—é—á–∏ `rewrite: (p) => p.replace(/^\/api/, '/api')` –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏; –¥–ª—è WS ‚Äî `ws: true`.

### 5. –ß–µ–∫-–ª–∏—Å—Ç –°–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏ (Verification)
- [ ] CORS –∏—Å—á–µ–∑ –≤ Dev, —Ñ—Ä–æ–Ω—Ç —Ö–æ–¥–∏—Ç –Ω–∞ `/api`
- [ ] WS —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ `/ws`
- [ ] –í –ø—Ä–æ–¥–µ –ø–æ—è–≤–∏–ª—Å—è `vendor.js`
- [ ] Unit/e2e –æ—Å—Ç–∞—é—Ç—Å—è –∑–µ–ª—ë–Ω—ã–º–∏

### 6. –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ (Troubleshooting)
- –ó–∞–±—ã–ª `ws: true` ‚Äî –≤–µ–±—Å–æ–∫–µ—Ç –Ω–µ –∫–æ–Ω–Ω–µ–∫—Ç–∏—Ç—Å—è
- –ù–µ–≤–µ—Ä–Ω—ã–π target –ø—Ä–æ—Ç–æ–∫–æ–ª (`http` vs `ws`)
- –°–ª–æ–º–∞–ª preview ‚Äî –ø—Ä–æ–≤–µ—Ä—å `npm run preview` –∏ PW_BASE_URL

### 7. –†–µ—à–µ–Ω–∏–µ (Spoiler)
<details>
<summary>–ü–æ–∫–∞–∑–∞—Ç—å —ç—Ç–∞–ª–æ–Ω</summary>

```js
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
export default defineConfig({
  plugins: [vue()],
  server: {
    proxy: {
      '/api': { target: 'http://localhost:8000', changeOrigin: true },
      '/ws':   { target: 'ws://localhost:8000', changeOrigin: true, ws: true }
    }
  },
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: ['vue']
        }
      }
    }
  }
})
```
</details>

---

–í–æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫—É—Ä—Å–∞ –ø–æ **Vite** –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ **VueExpert**.
> –°–º. –ø—Ä–∞–≤–∏–ª–∞ –æ—Ü–µ–Ω–∫–∏: [MODULE_ASSESSMENT.md](./MODULE_ASSESSMENT.md)


–í –º–∏—Ä–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ Vite —Å–æ–≤–µ—Ä—à–∏–ª —Ä–µ–≤–æ–ª—é—Ü–∏—é. –†–∞–Ω—å—à–µ –º—ã –∂–¥–∞–ª–∏ —Å–±–æ—Ä–∫—É Webpack –ø–æ 30 —Å–µ–∫—É–Ω–¥. –¢–µ–ø–µ—Ä—å —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ.
–ù–∞—à–∞ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è: **¬´Vite ‚Äî —ç—Ç–æ –Ω–µ –º–∞–≥–∏—è. –≠—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –±—Ä–∞—É–∑–µ—Ä–∞ (ESM) –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –º–æ—â—å Rollup –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞¬ª**.

–ú—ã —É—á–∏–º –Ω–µ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞—Ç—å `npm run dev`, –∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–±–æ—Ä–∫—É, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∫ –ë—ç–∫–µ–Ω–¥—É –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–∞–Ω–¥–ª—ã.

---

# ‚ö°Ô∏è Vite –≤–æ VueExpert: Next Generation Frontend Tooling

–ö—É—Ä—Å —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏:
1.  **Basic:** –ü–æ–Ω–∏–º–∞–Ω–∏–µ Native ESM, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞, —Ä–∞–±–æ—Ç–∞ —Å –∞—Å—Å–µ—Ç–∞–º–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è.
2.  **Advanced:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Proxy (CORS), –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏ (Chunks), –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–æ–≤ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Docker. **–ì–∞—Ä–∞–Ω—Ç —É—Ä–æ–≤–Ω—è Middle.**

---

## üü¢ –ß–ê–°–¢–¨ 1. BASIC: –ú–æ–ª–Ω–∏–µ–Ω–æ—Å–Ω—ã–π —Å—Ç–∞—Ä—Ç
*–¶–µ–ª—å: –ü–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É Vite –±—ã—Å—Ç—Ä—ã–π, –∫–∞–∫ –ø–æ–¥–∫–ª—é—á–∞—Ç—å —Å—Ç–∏–ª–∏/–∫–∞—Ä—Ç–∏–Ω–∫–∏ –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —Å—Ä–µ–¥—ã.*

### üì¶ –ú–æ–¥—É–ª—å V1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (ESM vs Bundling)
**–ú–µ—Ç–∞—Ñ–æ—Ä–∞:** "–®–≤–µ–¥—Å–∫–∏–π —Å—Ç–æ–ª (Vite) vs –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –æ–±–µ–¥ (Webpack)".
*   **1.1. Native ESM:**
    *   –ö–∞–∫ –±—Ä–∞—É–∑–µ—Ä—ã –Ω–∞—É—á–∏–ª–∏—Å—å –ø–æ–Ω–∏–º–∞—Ç—å `import ... from ...` –±–µ–∑ —Å–±–æ—Ä—â–∏–∫–æ–≤.
    *   –ü–æ—á–µ–º—É Vite –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ (On-demand serving).
*   **1.2. HMR (Hot Module Replacement):**
    *   –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É "–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã" –∏ "–ì–æ—Ä—è—á–µ–π –∑–∞–º–µ–Ω–æ–π".
    *   –ö–∞–∫ —Å–æ—Å—Ç–æ—è–Ω–∏–µ Vue-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –ø—Ä–∞–≤–∫–µ CSS.

### üóÇÔ∏è –ú–æ–¥—É–ª—å V2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –ê—Å—Å–µ—Ç—ã
*   **2.1. `public` vs `src/assets`:**
    *   –í–µ—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å –Ω–æ–≤–∏—á–∫–∞.
    *   `src/assets`: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è Vite (—Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–º–µ–Ω, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, base64 –∏–Ω–ª–∞–π–Ω).
    *   `public`: –ö–æ–ø–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å (favicon, robots.txt).
*   **2.2. –ò–º–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏–∫–∏:**
    *   `import imgUrl from './logo.png'`.
    *   –ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –ø–∏—Å–∞—Ç—å `<img src="./logo.png">` –≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–º –∫–æ–¥–µ (–ø—É—Ç–∏ –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –∏–∑–º–µ–Ω—è—Ç—Å—è).

### üé® –ú–æ–¥—É–ª—å V3. CSS –∏ –ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã
*   **3.1. SCSS –∏–∑ –∫–æ—Ä–æ–±–∫–∏:**
    *   –ü–æ—á–µ–º—É –Ω–µ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –ª–æ–∞–¥–µ—Ä—ã (–∫–∞–∫ –≤ Webpack). –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ `npm install sass`.
*   **3.2. CSS Modules:**
    *   –§–∞–π–ª—ã `Button.module.css`. –ö–∞–∫ Vite –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –∫–ª–∞—Å—Å—ã –≤ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ö—ç—à–∏.
*   **3.3. PostCSS:**
    *   –ê–≤—Ç–æ–ø—Ä–µ—Ñ–∏–∫—Å—ã (`-webkit-`) ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤.

### üîë –ú–æ–¥—É–ª—å V4. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)
**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –†–∞–∑–Ω—ã–µ API URL –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞.
*   **4.1. –§–∞–π–ª—ã `.env`:**
    *   `.env`, `.env.development`, `.env.production`. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã.
*   **4.2. `import.meta.env`:**
    *   –û—Ç–ª–∏—á–∏–µ –æ—Ç `process.env` (Node.js).
    *   –ü—Ä–µ—Ñ–∏–∫—Å `VITE_`: –ü–æ—á–µ–º—É –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `API_KEY` –Ω–µ –ø–æ–ø–∞–¥–µ—Ç –≤ –∫–æ–¥, –∞ `VITE_API_KEY` –ø–æ–ø–∞–¥–µ—Ç.

---

## üî¥ –ß–ê–°–¢–¨ 2. ADVANCED: Config & Optimization (Middle Grade)
*–¶–µ–ª—å: –ü–æ–¥—Ä—É–∂–∏—Ç—å –§—Ä–æ–Ω—Ç–µ–Ω–¥ —Å –ë—ç–∫–µ–Ω–¥–æ–º, –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—É—Ç–∏ –∏ —É–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä –∏—Ç–æ–≥–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞.*

### üîå –ú–æ–¥—É–ª—å VA1. Server Proxy (–†–µ—à–µ–Ω–∏–µ CORS)
**–°–∞–º—ã–π –≤–∞–∂–Ω—ã–π –º–æ–¥—É–ª—å –¥–ª—è Fullstack —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.**
*   **1.1. –ü—Ä–æ–±–ª–µ–º–∞ CORS:**
    *   –§—Ä–æ–Ω—Ç –Ω–∞ –ø–æ—Ä—Ç—É `5173`, –ë—ç–∫ –Ω–∞ `8000`. –ë—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã.
*   **1.2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `server.proxy`:**
    *   –ö–æ–Ω—Ñ–∏–≥ `vite.config.ts`.
    *   –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ `/api` -> `http://localhost:8000`.
    *   –í–∞–∂–Ω–æ: –ü—Ä–æ–∫—Å–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç *—Ç–æ–ª—å–∫–æ* –≤ —Ä–µ–∂–∏–º–µ Dev. –ö–∞–∫ —ç—Ç–æ —Ä–µ—à–∞—Ç—å –≤ Prod (Nginx).

### üõ†Ô∏è –ú–æ–¥—É–ª—å VA2. Build Optimization (Rollup)
**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ì–æ—Ç–æ–≤–∏–º—Å—è –∫ –¥–µ–ø–ª–æ—é.
*   **2.1. Code Splitting (Chunks):**
    *   –ü–æ—á–µ–º—É –æ–¥–∏–Ω —Ñ–∞–π–ª `index.js` –Ω–∞ 5–ú–± ‚Äî —ç—Ç–æ –ø–ª–æ—Ö–æ.
    *   –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã: `const Foo = () => import('./Foo.vue')`. Vite —Å–∞–º —Ä–∞–∑–æ–±—å–µ—Ç —ç—Ç–æ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª.
*   **2.2. Tree Shaking:**
    *   –ö–∞–∫ Vite "—Ç—Ä—è—Å–µ—Ç –¥–µ—Ä–µ–≤–æ", —á—Ç–æ–±—ã —Å–±—Ä–æ—Å–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, lodash).
*   **2.3. Cache Busting:**
    *   –ó–∞—á–µ–º –Ω—É–∂–Ω—ã —Ö—ç—à–∏ –≤ –∏–º–µ–Ω–∞—Ö —Ñ–∞–π–ª–æ–≤ (`index-2d4f.js`). –ë–æ—Ä—å–±–∞ —Å –∫—ç—à–µ–º –±—Ä–∞—É–∑–µ—Ä–∞.

### üß© –ú–æ–¥—É–ª—å VA3. –ê–ª–∏–∞—Å—ã –∏ –ü—É—Ç–∏
*   **3.1. Alias `@`:**
    *   –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `resolve.alias`.
    *   –ó–∞–º–µ–Ω–∞ `../../components/Button.vue` –Ω–∞ `@/components/Button.vue`.
*   **3.2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å TS:**
    *   –ü–æ—á–µ–º—É –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Vite, –Ω—É–∂–Ω–æ –µ—â–µ –æ–±–Ω–æ–≤–∏—Ç—å `tsconfig.json` (`paths`), —á—Ç–æ–±—ã VS Code –ø–æ–Ω–∏–º–∞–ª –∞–ª–∏–∞—Å—ã.

### üîå –ú–æ–¥—É–ª—å VA4. –ü–ª–∞–≥–∏–Ω—ã (Ecosystem)
*   **4.1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–æ–≤:**
    *   `vite-plugin-pwa`: –ü—Ä–µ–≤—Ä–∞—â–µ–Ω–∏–µ —Å–∞–π—Ç–∞ –≤ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
    *   `unplugin-vue-components`: –ê–≤—Ç–æ–∏–º–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–º–∞–≥–∏—è, –∫–æ–≥–¥–∞ –Ω–µ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å `import Button`).
*   **4.2. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–Ω–¥–ª–∞:**
    *   `rollup-plugin-visualizer`.
    *   –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫—Ä–∞—Å–∏–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã: "–ö—Ç–æ –∑–∞–Ω–∏–º–∞–µ—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –º–µ—Å—Ç–∞?" (–æ–±—ã—á–Ω–æ —ç—Ç–æ –º–æ–º–µ–Ω—Ç –æ—Å–æ–∑–Ω–∞–Ω–∏—è, —á—Ç–æ –Ω—É–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å moment.js).

### üê≥ –ú–æ–¥—É–ª—å VA5. Vite + Docker

#### Dev / Preview / E2E –∑–∞–ø—É—Å–∫
- Dev: `npm run dev` ‚Üí —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ http://localhost:5173
- Preview: `npm run build && npm run preview` ‚Üí —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ http://localhost:4173
- E2E (Playwright):
  - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç–µ—Å—Ç—ã –∏–¥—É—Ç –Ω–∞ http://localhost:5173
  - –î–ª—è preview-—Ä–µ–∂–∏–º–∞: `PW_BASE_URL=http://localhost:4173 npm run e2e`

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è CORS (–∞ –Ω–µ –ø—Ä–æ–∫—Å–∏), –∏ —Ñ—Ä–æ–Ω—Ç —á–∏—Ç–∞–µ—Ç `import.meta.env.VITE_API_BASE_URL` –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –±—ç–∫–µ–Ω–¥—É.
*   **5.1. Dev –≤ –î–æ–∫–µ—Ä–µ:**
    *   –ü—Ä–æ–±–ª–µ–º–∞ `host: '0.0.0.0'`.
    *   –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `watch.usePolling` (–µ—Å–ª–∏ –Ω–∞ Windows –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≥–æ—Ä—è—á–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –≤–Ω—É—Ç—Ä–∏ Docker).
*   **5.2. Prod Build:**
    *   –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞–ø–∫—É `dist` –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä Nginx.

### üèÜ –§–∏–Ω–∞–ª—å–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω Vite (Middle Project)
**–ó–∞–¥–∞–Ω–∏–µ:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª–µ–≥–∞—Å–∏-–ø—Ä–æ–µ–∫—Ç –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è —Å–ª–æ–∂–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è.

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
1.  **Proxy:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ `/api` –Ω–∞ –±—ç–∫–µ–Ω–¥, –∏ –∫ `/ws` (WebSockets) —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π `ws: true`.
2.  **Aliases:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–∏–∞—Å—ã –¥–ª—è `@components`, `@stores`, `@use`.
3.  **Visualizer:** –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –±–∞–Ω–¥–ª–∞. –ù–∞–π—Ç–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫—É, –∫–æ—Ç–æ—Ä–∞—è –≤–µ—Å–∏—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ, –∏ –∑–∞–º–µ–Ω–∏—Ç—å –µ—ë –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–µ–Ω–∏–≤—É—é –∑–∞–≥—Ä—É–∑–∫—É.
4.  **Chunks:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `build.rollupOptions` —Ç–∞–∫, —á—Ç–æ–±—ã –≤–µ–Ω–¥–æ—Ä–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (Vue, Pinia) –ø–∞–¥–∞–ª–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª `vendor.js`.
5.  **Env:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É: –µ—Å–ª–∏ `VITE_FEATURE_FLAG=true`, —Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—É—é –∫–Ω–æ–ø–∫—É.

---

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —Ñ–∏—à–∫–∏ –≤ –£—á–µ–±–Ω–∏–∫–µ

1.  **Proxy Flow Simulator:**
    *   –°—Ö–µ–º–∞: `Browser` -> `Vite Dev Server` -> `Python Backend`.
    *   –°—Ç—É–¥–µ–Ω—Ç –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å `fetch('/api/users')`.
    *   –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ Vite "–ª–æ–≤–∏—Ç" –∑–∞–ø—Ä–æ—Å, –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏ (Origin) –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ –ø–æ—Ä—Ç 8000.
    *   *–û—à–∏–±–∫–∞:* –ï—Å–ª–∏ –ø—Ä–æ–∫—Å–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –∑–∞–ø—Ä–æ—Å –≤—Ä–µ–∑–∞–µ—Ç—Å—è –≤ —Å—Ç–µ–Ω—É CORS.

2.  **Bundle Cutter (Tree Shaking Game):**
    *   –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–µ—Ä–µ–≤–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
    *   –í–µ—Ç–∫–∞ "–¢—è–∂–µ–ª–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞" (–≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏).
    *   –ó–∞–¥–∞–Ω–∏–µ: –ó–∞–º–µ–Ω–∏ `import { func } from 'lib'` –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å.
    *   –†–µ–∑—É–ª—å—Ç–∞—Ç: –î–µ—Ä–µ–≤–æ —Ç—Ä—è—Å–µ—Ç—Å—è, –ª–∏—à–Ω–∏–µ –≤–µ—Ç–∫–∏ –æ—Ç–ø–∞–¥–∞—é—Ç, —Ä–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è.

3.  **Env Switcher:**
    *   –ü–∞–Ω–µ–ª—å —Å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è–º–∏ `.env` (Dev / Prod).
    *   –ö–æ–¥: `console.log(import.meta.env.VITE_API_BASE_URL)`.
    *   –°—Ç—É–¥–µ–Ω—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Ä–µ–∂–∏–º, –∏ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ –ª–µ—Ç—É.

4.  **HMR vs Reload Race:**
    *   –î–≤–∞ —ç–∫—Ä–∞–Ω–∞. –°–ª–µ–≤–∞ Webpack (2018), —Å–ø—Ä–∞–≤–∞ Vite.
    *   –ó–∞–¥–∞–Ω–∏–µ: "–ò–∑–º–µ–Ω–∏ —Ü–≤–µ—Ç –∫–Ω–æ–ø–∫–∏".
    *   –°–ª–µ–≤–∞: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, —Å–ø–∏–Ω–Ω–µ—Ä –∫—Ä—É—Ç–∏—Ç—Å—è, —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ—Ä–º—ã –ø–æ—Ç–µ—Ä—è–Ω–æ. (5 —Å–µ–∫).
    *   –°–ø—Ä–∞–≤–∞: –¶–≤–µ—Ç –º–µ–Ω—è–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ, —Ç–µ–∫—Å—Ç –≤ –∏–Ω–ø—É—Ç–µ –æ—Å—Ç–∞–ª—Å—è. (0.1 —Å–µ–∫).

## –û—Ü–µ–Ω–∫–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞

- –ö–≤–∏–∑ (—Ç–µ–æ—Ä–∏—è)
  - –§–æ—Ä–º–∞—Ç: 10-20 –≤–æ–ø—Ä–æ—Å–æ–≤ (JSON/YAML/Markdown‚Äë–±–∞–Ω–∫).
  - –ü–æ—Ä–æ–≥ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è: ‚â• 80% –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤.
- –ü—Ä–∞–∫—Ç–∏–∫–∞ (–∫–æ–¥/–∑–∞–¥–∞—á–∏)
  - –†–µ–ø–æ‚Äë–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è (–≤–Ω–æ—Å—è—Ç—Å—è –≤ —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç).
  - –ü—Ä–æ–≤–µ—Ä–∫–∞: unit/integration/e2e —Ç–µ—Å—Ç–∞–º–∏.
- –ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ (CI)
  - –§—Ä–æ–Ω—Ç: Vitest (+ –ø–æ–∫—Ä—ã—Ç–∏–µ), –ª–∏–Ω—Ç–µ—Ä—ã (ESLint/Prettier).
  - –ë—ç–∫: Pytest (httpx.AsyncClient), –ª–∏–Ω—Ç–µ—Ä—ã (ruff/flake8), –ø–æ–∫—Ä—ã—Ç–∏–µ.
  - E2E: Playwright (PW_BASE_URL).
- –†—É–±—Ä–∏–∫–∞
  - S (90‚Äì100): —Ç–µ—Å—Ç—ã –∑–µ–ª—ë–Ω—ã–µ, –ø–æ–∫—Ä—ã—Ç–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ, —Å—Ç–∏–ª—å —á–∏—Å—Ç—ã–π, –±–µ–∑ smell‚Äë–æ–≤.
  - A (80‚Äì89), B (70‚Äì79), C (<70) ‚Äî –ø–æ —É–±—ã–≤–∞–Ω–∏—é: –Ω–µ–¥–æ—á—ë—Ç—ã/–ø–æ–∫—Ä—ã—Ç–∏–µ/–ø–∞–¥–∞—é—â–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏.
- Remediation
  - –°–ø–∏—Å–æ–∫ –ø—Ä–æ–≤–∞–ª–æ–≤ (–∏–∑ –æ—Ç—á—ë—Ç–∞ CI) ‚Üí —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ä–∞–∑–¥–µ–ª—ã —É—á–µ–±–Ω–∏–∫–∞.
